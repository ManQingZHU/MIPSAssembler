#include "Reference.h"

map<string, string> Reg_code = {
        {"$R0", "00000"}, {"$R4", "00100"}, {"$R8", "01000"},  {"$R12", "01100"}, {"$R16", "10000"}, {"$R20", "10100"}, {"$R24", "11000"}, {"$R28", "11100"},
        {"$R1", "00001"}, {"$R5", "00101"}, {"$R9", "01001"},  {"$R13", "01101"}, {"$R17", "10001"}, {"$R21", "10101"}, {"$R25", "11001"}, {"$R29", "11101"},
        {"$R2", "00010"}, {"$R6", "00110"}, {"$R10", "01010"}, {"$R14", "01110"}, {"$R18", "10010"}, {"$R22", "10110"}, {"$R26", "11010"}, {"$R30", "11110"},
        {"$R3", "00011"}, {"$R7", "00111"}, {"$R11", "01011"}, {"$R15", "01111"}, {"$R19", "10011"}, {"$R23", "10111"}, {"$R27", "11011"}, {"$R31", "11111"},

        {"$r0", "00000"}, {"$r4", "00100"}, {"$r8", "01000"},  {"$r12", "01100"}, {"$r16", "10000"}, {"$r20", "10100"}, {"$r24", "11000"}, {"$r28", "11100"},
        {"$r1", "00001"}, {"$r5", "00101"}, {"$r9", "01001"},  {"$r13", "01101"}, {"$r17", "10001"}, {"$r21", "10101"}, {"$r25", "11001"}, {"$r29", "11101"},
        {"$r2", "00010"}, {"$r6", "00110"}, {"$r10", "01010"}, {"$r14", "01110"}, {"$r18", "10010"}, {"$r22", "10110"}, {"$r26", "11010"}, {"$r30", "11110"},
        {"$r3", "00011"}, {"$r7", "00111"}, {"$r11", "01011"}, {"$r15", "01111"}, {"$r19", "10011"}, {"$r23", "10111"}, {"$r27", "11011"}, {"$r31", "11111"},

        {"$zero", "00000"}, {"$a0", "00100"}, {"$t0", "01000"}, {"$t4", "01100"}, {"$s0", "10000"}, {"$s4", "10100"}, {"$t8", "11000"}, {"$gp", "11100"},
        {"$at", "00001"},   {"$a1", "00101"}, {"$t1", "01001"}, {"$t5", "01101"}, {"$s1", "10001"}, {"$s5", "10101"}, {"$t9", "11001"}, {"$sp", "11101"},
        {"$v0", "00010"},   {"$a2", "00110"}, {"$t2", "01010"}, {"$t6", "01110"}, {"$s2", "10010"}, {"$s6", "10110"}, {"$k0", "11010"}, {"$fp", "11110"},
        {"$v1", "00011"},   {"$a3", "00111"}, {"$t3", "01011"}, {"$t7", "01111"}, {"$s3", "10011"}, {"$s7", "10111"}, {"$k1", "11011"}, {"$ra", "11111"}
};

map<string, string> Code_reg = {
        {"00000", "$zero"}, {"00100", "$a0"}, {"01000", "$t0"}, {"01100", "$t4"}, {"10000", "$s0"}, {"10100", "$s4"}, {"11000", "$t8"}, {"11100", "$gp"},
        {"00001", "$at"},   {"00101", "$a1"}, {"01001", "$t1"}, {"01101", "$t5"}, {"10001", "$s1"}, {"10101", "$s5"}, {"11001", "$t9"}, {"11101", "$sp"},
        {"00010", "$v0"},   {"00110", "$a2"}, {"01010", "$t2"}, {"01110", "$t6"}, {"10010", "$s2"}, {"10110", "$s6"}, {"11010", "$k0"}, {"11110", "$fp"},
        {"00011", "$v1"},   {"00111", "$a3"}, {"01011", "$t3"}, {"01111", "$t7"}, {"10011", "$s3"}, {"10111", "$s7"}, {"11011", "$k1"}, {"11111", "$ra"}
};

map<string, vector<string> > instru_code{
        {"lw", vector<string>{    "100011", "rs",    "rt",    "off"}}, //4
        {"lb", vector<string>{    "100000", "rs",    "rt",    "off"}},
        {"lbu", vector<string>{   "100100", "rs",    "rt",    "off"}},
        {"lh", vector<string>{    "100001", "rs",    "rt",    "off"}},
        {"lhu", vector<string>{   "100101", "rs",    "rt",    "off"}},
        {"sw", vector<string>{    "101011", "rs",    "rt",    "off"}},
        {"sb", vector<string>{    "101000", "rs",    "rt",    "off"}},
        {"sh", vector<string>{    "101001", "rs",    "rt",    "off"}}, //1-8
        {"beq", vector<string>{   "000100", "rs",    "rt",    "off"}},
        {"bne", vector<string>{   "000101", "rs",    "rt",    "off"}},
        {"blez", vector<string>{  "000110", "rs",    "00000", "off"}},
        {"bgtz", vector<string>{  "000111", "rs",    "00000", "off"}},
        {"bltz", vector<string>{  "000001", "rs",    "00000", "off"}},
        {"bgez", vector<string>{  "000001", "rs",    "00001", "off"}},//34-39
        {"addi", vector<string>{  "001000", "rs",    "rt",    "imm"}},
        {"addiu", vector<string>{ "001001", "rs",    "rt",    "imm"}},
        {"slti", vector<string>{  "001010", "rs",    "rt",    "imm"}},
        {"sltiu", vector<string>{ "001011", "rs",    "rt",    "imm"}},
        {"andi", vector<string>{  "001100", "rs",    "rt",    "imm"}},
        {"ori", vector<string>{   "001101", "rs",    "rt",    "imm"}},
        {"xori", vector<string>{  "001110", "rs",    "rt",    "imm"}},  //26-30 32-33
        {"mult", vector<string>{  "000000", "rs",    "rt",    "0000000000101000"}}, //22-25
        {"multu", vector<string>{ "000000", "rs",    "rt",    "0000000000101001"}},
        {"div", vector<string>{   "000000", "rs",    "rt",    "0000000000011010"}},
        {"divu", vector<string>{  "000000", "rs",    "rt",    "0000000000011011"}},
        {"lui", vector<string>{   "001111", "00000", "rt",    "imm"}},  //31
        {"mfc0", vector<string>{ "01000000000", "rt", "rd", "00000000000"}},   //49-50
        {"mfc1", vector<string>{ "01000100000", "rt", "fs", "00000000000"}},

        {"add", vector<string>{  "000000", "rs", "rt",    "rd", "00000100000"}}, //5
        {"addu", vector<string>{ "000000", "rs", "rt",    "rd", "00000100001"}},
        {"sub", vector<string>{  "000000", "rs", "rt",    "rd", "00000100010"}},
        {"subu", vector<string>{ "000000", "rs", "rt",    "rd", "00000100011"}},
        {"slt", vector<string>{  "000000", "rs", "rt",    "rd", "00000101010"}},
        {"sltu", vector<string>{ "000000", "rs", "rt",    "rd", "00000101011"}},
        {"and", vector<string>{  "000000", "rs", "rt",    "rd", "00000100100"}},
        {"or", vector<string>{   "000000", "rs", "rt",    "rd", "00000100101"}},
        {"xor", vector<string>{  "000000", "rs", "rt",    "rd", "00000100110"}},
        {"nor", vector<string>{  "000000", "rs", "rt",    "rd", "00000100111"}},   // 9-18
        {"move", vector<string>{ "000000", "rs", "00000", "rd", "00000100000"}},
        {"jalr", vector<string>{ "000000", "rs", "00000", "rd", "00000001001"}},
        {"jr", vector<string>{   "000000", "rs", "00000", "00000", "00000001000"}},   //54,42,43
        {"mfhi", vector<string>{ "000000","00000","00000", "rd", "00000010000"}},
        {"mflo", vector<string>{ "000000","00000","00000", "rd", "00000010010"}},  // 44-47
        {"mthi", vector<string>{ "000000","00000","00000", "rd", "00000010001"}},
        {"mtlo", vector<string>{ "000000","00000","00000", "rd", "00000010011"}},

        {"sll", vector<string>{ "00000000000", "rt", "rd", "shamt", "000000"}}, // 5
        {"srl", vector<string>{ "00000000000", "rt", "rd", "shamt", "000010"}},  //19-21
        {"sra", vector<string>{ "00000000000", "rt", "rd", "shamt", "000011"}},

        {"j", vector<string>{   "000010", "off"}},  // 2  //40-41
        {"jal", vector<string>{ "000011", "off"}},

        {"eret", vector<string>{    "01000010000000000000000000011000"}},  // 1   //48,51
        {"syscall", vector<string>{ "00000000000000000000000000001100"}},

        {"break", vector<string>{   "000000", "code", "001101"}},  //3  //52

        {"li", vector<string>{"00111100000", "rd",    "imm1", "001101", "rd", "rd",    "imm2"}},  //7
        {"la", vector<string>{"00111100000", "00001", "imm1", "001101", "rd", "00001", "imm2"}}
};

map<string, int> Instru_id = {
        {"lw", 1}, {"lb", 2}, {"lbu", 3}, {"lh", 4}, {"lhu", 5}, {"sw", 6}, {"sb", 7}, {"sh", 8},
        {"add", 9}, {"addu", 10}, {"sub", 11}, {"subu", 12}, {"slt", 13}, {"sltu", 14}, {"and", 15},
        {"or", 16}, {"xor", 17}, {"nor", 18}, {"sll", 19}, {"srl", 20}, {"sra", 21},
        {"mult", 22}, {"multu", 23}, {"div", 24}, {"divu", 25},
        {"addi", 26}, {"addiu", 27}, {"andi", 28}, {"ori", 29}, {"xori", 30}, {"lui", 31}, {"slti", 32}, {"sltiu", 33},
        {"beq", 34}, {"bne", 35}, {"blez", 36}, {"bgtz", 37}, {"bltz", 38}, {"bgez", 39},
        {"j", 40}, {"jal", 41}, {"jalr", 42}, {"jr", 43},
        {"mfhi", 44}, {"mflo", 45}, {"mthi", 46}, {"mtlo", 47},
        {"eret", 48}, {"mfc0", 49}, {"mfc1", 50}, {"break", 51}, {"syscall", 52},
        {"la", 53}, {"move", 54}, {"li", 55}

};

map<string, string> Code_instru = {
        {"100011", "lw"}, //opcode
        {"100000", "lb"},
        {"100100", "lbu"},
        {"100001", "lh"},
        {"100101", "lhu"},
        {"101011", "sw"},
        {"101000", "sb"},
        {"101001", "sh"}, //1-8
        {"000100", "beq"},
        {"000101", "bne"},
        {"000110", "blez"},
        {"000111", "bgtz"},
        {"000001", "bltz"},
        {"000001", "bgez"},//34-39
        {"001000", "addi"},
        {"001001", "addiu"},
        {"001010", "slti"},
        {"001011", "sltiu"},
        {"001100", "andi"},
        {"001101", "ori"},
        {"001110", "xori"},  //26-30 32-33
        {"001111", "lui"},  //31
        {"010000+000000", "mfc0"},   //49-50
        {"010001", "mfc1"},
        {"000010", "j"},  // 2
        {"000011", "jal"},

        {"000000+101000", "mult"}, //opcode+func
        {"000000+101001", "multu"},
        {"000000+011010", "div"},
        {"000000+011011", "divu"},
        {"000000+100000", "add"},
        {"000000+100001", "addu"},
        {"000000+100010", "sub"},  // 9-18
        {"000000+100011", "subu"},
        {"000000+101010", "slt"},
        {"000000+101011", "sltu"},
        {"000000+100100", "and"},
        {"000000+100101", "or"},
        {"000000+100110", "xor"},
        {"000000+100111", "nor"},
        {"000000+001001", "jalr"},
        {"000000+001000", "jr"},
        {"000000+010000", "mfhi"},
        {"000000+010010", "mflo"},  // 44-47
        {"000000+010001", "mthi"},
        {"000000+010011", "mtlo"},
        {"000000+000000", "sll"}, // 5
        {"000000+000010", "srl"},  //19-21
        {"000000+000011", "sra"},
        {"010000+011000", "eret"},  // 1
        {"000000+001100", "syscall"},
        {"000000+001101", "break"}  //3
};
